# Deploying ADA Application on Render

This guide explains how to deploy the ADA (Advanced Design Assistant) application on Render using Docker.

## Prerequisites

- A [Render](https://render.com/) account
- Your API keys for ElevenLabs, Google AI, and Google Maps

## Deployment Steps

### Option 1: Deploy using Render Blueprint (Recommended)

1. **Fork or Clone the Repository**

   Make sure you have your own copy of the repository on GitHub.

2. **Connect to Render**

   - Log in to your Render account
   - Go to the Dashboard
   - Click on "New" and select "Blueprint"
   - Connect your GitHub account if you haven't already
   - Select the repository containing the ADA application
   - Click "Apply Blueprint"

3. **Configure Environment Variables**

   Render will prompt you to set up the required environment variables:
   
   - `ELEVENLABS_API_KEY`: Your ElevenLabs API key
   - `GOOGLE_API_KEY`: Your Google AI API key
   - `MAPS_API_KEY`: Your Google Maps API key
   - `FLASK_SECRET_KEY`: Will be auto-generated by Render

4. **Deploy**

   Click "Apply" and Render will automatically deploy both the backend and frontend services.

### Option 2: Manual Deployment

If you prefer to deploy the services manually:

1. **Deploy the Backend**

   - Log in to your Render account
   - Go to the Dashboard
   - Click on "New" and select "Web Service"
   - Select "Docker" as the environment
   - Connect your GitHub repository
   - Set the Docker context path to `./server`
   - Set the following environment variables:
     - `ELEVENLABS_API_KEY`: Your ElevenLabs API key
     - `GOOGLE_API_KEY`: Your Google AI API key
     - `MAPS_API_KEY`: Your Google Maps API key
     - `FLASK_SECRET_KEY`: A random string for Flask session security
     - `PORT`: 5000
   - Click "Create Web Service"

2. **Deploy the Frontend**

   - Go back to the Dashboard
   - Click on "New" and select "Web Service"
   - Select "Docker" as the environment
   - Connect your GitHub repository
   - Set the Docker context path to `./client/ada-online`
   - Set the following environment variables:
     - `VITE_BACKEND_URL`: The URL of your backend service (e.g., https://ada-backend.onrender.com)
     - `PORT`: 10000
   - Click "Create Web Service"

## Accessing Your Application

Once deployed, you can access your application at the URL provided by Render for your frontend service.

## Troubleshooting

- **Issue**: Backend and frontend can't communicate
  **Solution**: Make sure the `VITE_BACKEND_URL` environment variable in the frontend service is correctly set to the URL of your backend service.

- **Issue**: API calls failing
  **Solution**: Verify that your API keys are correctly set in the environment variables.

- **Issue**: Application not loading
  **Solution**: Check the logs in the Render dashboard for both services to identify any errors.

## Additional Information

- Render automatically assigns a PORT environment variable to your services, which our Docker configuration is set up to use.
- The backend service exposes port 5000 internally but will be accessible via the URL provided by Render.
- The frontend service exposes port 10000 internally but will be accessible via the URL provided by Render.
- Both services are configured to use the latest Docker images and will automatically rebuild when you push changes to your repository.
